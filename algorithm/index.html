<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端学习笔记 | 算法</title>
    <meta name="description" content="前端学习笔记">
    
    
    <link rel="preload" href="/notebook/assets/css/24.styles.54e121d1.css" as="style"><link rel="preload" href="/notebook/assets/js/app.e422ee42.js" as="script"><link rel="preload" href="/notebook/assets/js/21.c8cf075f.js" as="script"><link rel="prefetch" href="/notebook/assets/js/13.4a676149.js"><link rel="prefetch" href="/notebook/assets/js/1.0504529f.js"><link rel="prefetch" href="/notebook/assets/js/2.ff25ac17.js"><link rel="prefetch" href="/notebook/assets/js/3.3214ee55.js"><link rel="prefetch" href="/notebook/assets/js/4.91ed248e.js"><link rel="prefetch" href="/notebook/assets/js/5.f6d88800.js"><link rel="prefetch" href="/notebook/assets/js/6.196e425a.js"><link rel="prefetch" href="/notebook/assets/js/7.751555b3.js"><link rel="prefetch" href="/notebook/assets/js/8.f9163292.js"><link rel="prefetch" href="/notebook/assets/js/9.f8f2301a.js"><link rel="prefetch" href="/notebook/assets/js/10.daa165f6.js"><link rel="prefetch" href="/notebook/assets/js/11.6739d9ca.js"><link rel="prefetch" href="/notebook/assets/js/12.6a663263.js"><link rel="prefetch" href="/notebook/assets/js/0.af20d5dc.js"><link rel="prefetch" href="/notebook/assets/js/14.5b9129c1.js"><link rel="prefetch" href="/notebook/assets/js/15.578148e5.js"><link rel="prefetch" href="/notebook/assets/js/16.e904e7c8.js"><link rel="prefetch" href="/notebook/assets/js/17.51e48bca.js"><link rel="prefetch" href="/notebook/assets/js/18.b86da157.js"><link rel="prefetch" href="/notebook/assets/js/19.4d1f3647.js"><link rel="prefetch" href="/notebook/assets/js/20.db4d947d.js"><link rel="prefetch" href="/notebook/assets/js/22.d56c9864.js"><link rel="prefetch" href="/notebook/assets/js/23.ef174104.js">
    <link rel="stylesheet" href="/notebook/assets/css/24.styles.54e121d1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/notebook/" class="home-link router-link-active"><!----><span class="site-name">
      前端学习笔记
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/notebook/tutorial/" class="nav-link">教程笔记</a></div><div class="nav-item"><a href="/notebook/subject/" class="nav-link">专题</a></div><div class="nav-item"><a href="/notebook/basic/" class="nav-link">基础</a></div><div class="nav-item"><a href="/notebook/question/" class="nav-link">题</a></div><div class="nav-item"><a href="/notebook/algorithm/" class="nav-link router-link-exact-active router-link-active">算法</a></div><a href="https://github.com/athena0304/notebook" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/notebook/tutorial/" class="nav-link">教程笔记</a></div><div class="nav-item"><a href="/notebook/subject/" class="nav-link">专题</a></div><div class="nav-item"><a href="/notebook/basic/" class="nav-link">基础</a></div><div class="nav-item"><a href="/notebook/question/" class="nav-link">题</a></div><div class="nav-item"><a href="/notebook/algorithm/" class="nav-link router-link-exact-active router-link-active">算法</a></div><a href="https://github.com/athena0304/notebook" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><a href="/notebook/algorithm/" class="active sidebar-link">算法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/algorithm/#fisher–yates-shuffle" class="sidebar-link">Fisher–Yates shuffle</a></li></ul></li></ul></div><div class="page"><div class="content"><h1 id="算法"><a href="#算法" aria-hidden="true" class="header-anchor">#</a> 算法</h1><h2 id="fisher–yates-shuffle"><a href="#fisher–yates-shuffle" aria-hidden="true" class="header-anchor">#</a><a href="https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle" target="_blank" rel="noopener noreferrer">Fisher–Yates shuffle<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><p>用于生成有限序列的随机排列。该算法有效地将所有元素放入帽子中;它通过从帽子中随机抽取一个元素来不断地确定下一个元素，直到没有元素剩下为止。</p><h3 id="modern-method"><a href="#modern-method" aria-hidden="true" class="header-anchor">#</a> Modern method</h3><p>We'll now do the same thing using <a href="https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle#The_modern_algorithm" target="_blank" rel="noopener noreferrer">Durstenfeld's version<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> of the algorithm: this time, instead of striking out the chosen numbers and copying them elsewhere, we'll swap them with the last number not yet chosen. We'll start by writing out the numbers from 1 to 8 as before:</p><table><thead><tr><th>Range</th><th>Roll</th><th>Scratch</th><th>Result</th></tr></thead><tbody><tr><td></td><td></td><td>1 2 3 4 5 6 7 8</td><td></td></tr></tbody></table><p>For our first roll, we roll a random number from 1 to 8: this time it is 6, so we swap the 6th and 8th numbers in the list:</p><table><thead><tr><th>Range</th><th>Roll</th><th>Scratch</th><th>Result</th></tr></thead><tbody><tr><td>1–8</td><td>6</td><td>1 2 3 4 5 <strong>8</strong> 7</td><td><strong>6</strong></td></tr></tbody></table><p>The next random number we roll from 1 to 7, and turns out to be 2. Thus, we swap the 2nd and 7th numbers and move on:</p><table><thead><tr><th>Range</th><th>Roll</th><th>Scratch</th><th>Result</th></tr></thead><tbody><tr><td>1–7</td><td>2</td><td>1 <strong>7</strong> 3 4 5 8</td><td><strong>2</strong> 6</td></tr></tbody></table><p>The next random number we roll is from 1 to 6, and just happens to be 6, which means we leave the 6th number in the list (which, after the swap above, is now number 8) in place and just move to the next step. Again, we proceed the same way until the permutation is complete:</p><table><thead><tr><th>Range</th><th>Roll</th><th>Scratch</th><th>Result</th></tr></thead><tbody><tr><td>1–6</td><td>6</td><td>1 7 3 4 5</td><td><strong>8</strong> 2 6</td></tr><tr><td>1–5</td><td>1</td><td><strong>5</strong> 7 3 4</td><td><strong>1</strong> 8 2 6</td></tr><tr><td>1–4</td><td>3</td><td>5 7 <strong>4</strong></td><td><strong>3</strong> 1 8 2 6</td></tr><tr><td>1–3</td><td>3</td><td>5 7</td><td><strong>4</strong> 3 1 8 2 6</td></tr><tr><td>1–2</td><td>1</td><td><strong>7</strong></td><td><strong>5</strong> 4 3 1 8 2 6</td></tr></tbody></table><p>At this point there's nothing more that can be done, so the resulting permutation is 7 5 4 3 1 8 2 6.</p><iframe height="324" scrolling="no" title="Fisher–Yates shuffle" src="//codepen.io/athena0304/embed/vzQYER/?height=324&theme-id=0&default-tab=result&embed-version=2" frameborder="no" allowtransparency="true" allowfullscreen="allowfullscreen" style="width: 100%;">See the Pen <a href="https://codepen.io/athena0304/pen/vzQYER/">Fisher–Yates shuffle</a> by Athena (<a href="https://codepen.io/athena0304">@athena0304</a>) on <a href="https://codepen.io">CodePen</a>.
</iframe><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">shuffle</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> array<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> j <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> array<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>array<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// counts of appearances for all possible permutations</span>
<span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">'123'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">'132'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">'213'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">'231'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">'321'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">'312'</span><span class="token punctuation">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token function">shuffle</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>
  count<span class="token punctuation">[</span>array<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// show counts of all possible permutations</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>count<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token number">123</span><span class="token punctuation">:</span> <span class="token number">166693</span>
<span class="token number">132</span><span class="token punctuation">:</span> <span class="token number">166647</span>
<span class="token number">213</span><span class="token punctuation">:</span> <span class="token number">166628</span>
<span class="token number">231</span><span class="token punctuation">:</span> <span class="token number">167517</span>
<span class="token number">312</span><span class="token punctuation">:</span> <span class="token number">166199</span>
<span class="token number">321</span><span class="token punctuation">:</span> <span class="token number">166316</span>
</code></pre></div></div><!----><!----></div></div></div>
    <script src="/notebook/assets/js/21.c8cf075f.js" defer></script><script src="/notebook/assets/js/app.e422ee42.js" defer></script>
  </body>
</html>

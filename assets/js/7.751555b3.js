(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{203:function(t,n,s){"use strict";s.r(n);var a=s(0),e=Object(a.a)({},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"content"},[t._m(0),t._m(1),t._m(2),s("h3",{attrs:{id:"debounce："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#debounce：","aria-hidden":"true"}},[t._v("#")]),s("a",{attrs:{href:"https://lodash.com/docs/4.17.10#debounce",target:"_blank",rel:"noopener noreferrer"}},[t._v("Debounce"),s("OutboundLink")],1),t._v("：")]),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),t._m(8),t._m(9),t._m(10),s("h3",{attrs:{id:"throttle"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#throttle","aria-hidden":"true"}},[t._v("#")]),s("a",{attrs:{href:"https://lodash.com/docs/4.17.10#throttle",target:"_blank",rel:"noopener noreferrer"}},[t._v("Throttle:"),s("OutboundLink")],1)]),t._m(11),t._m(12),t._m(13),t._m(14),t._m(15),t._m(16),t._m(17),t._m(18),s("p",[t._v("在这两个 API 的 lodash 文档中，推荐了一篇文章："),s("a",{attrs:{href:"https://css-tricks.com/debouncing-throttling-explained-examples/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Debouncing and Throttling Explained Through Examples"),s("OutboundLink")],1),t._v("，可以在这里查看我的完整"),s("router-link",{attrs:{to:"./examples.html"}},[t._v("翻译")]),t._v("，从这篇文章中，可以了解这两个 API 的来龙去脉，以及一些比较直观的解释。")],1),t._m(19),s("p",[t._v("现在知道了 throttle 和 debounce 是什么，怎么用了，如果让你自己写，应该怎么写呢。")]),s("p",[t._v("首先我们先提出几个应用场景，一个是滚动事件，一个是表单的 change 事件")]),s("p",[t._v("如果先说 debouce 的话，")])])},[function(){var t=this.$createElement,n=this._self._c||t;return n("h1",{attrs:{id:"throttle和debounce"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#throttle和debounce","aria-hidden":"true"}},[this._v("#")]),this._v(" throttle和debounce")])},function(){var t=this.$createElement,n=this._self._c||t;return n("h2",{attrs:{id:"一、lodash-api"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一、lodash-api","aria-hidden":"true"}},[this._v("#")]),this._v(" 一、lodash API")])},function(){var t=this.$createElement,n=this._self._c||t;return n("p",[this._v("先引用一下 "),n("code",[this._v("loadash")]),this._v(" 里的API：")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("_"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("debounce")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("func"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("wait"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("options"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("p",[t._v("Creates a debounced function that delays invoking "),s("code",[t._v("func")]),t._v(" until after "),s("code",[t._v("wait")]),t._v(" milliseconds have elapsed since the last time the debounced function was invoked. The debounced function comes with a "),s("code",[t._v("cancel")]),t._v(" method to cancel delayed "),s("code",[t._v("func")]),t._v(" invocations and a "),s("code",[t._v("flush")]),t._v(" method to immediately invoke them. Provide "),s("code",[t._v("options")]),t._v(" to indicate whether "),s("code",[t._v("func")]),t._v(" should be invoked on the leading and/or trailing edge of the "),s("code",[t._v("wait")]),t._v(" timeout. The "),s("code",[t._v("func")]),t._v(" is invoked with the last arguments provided to the debounced function. Subsequent calls to the debounced function return the result of the last "),s("code",[t._v("func")]),t._v(" invocation.")])},function(){var t=this.$createElement,n=this._self._c||t;return n("h4",{attrs:{id:"arguments"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#arguments","aria-hidden":"true"}},[this._v("#")]),this._v(" Arguments")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ul",[s("li",[s("code",[t._v("func")]),s("em",[t._v("(Function)")]),t._v(": The function to debounce.")]),s("li",[s("code",[t._v("[wait=0]")]),s("em",[t._v("(number)")]),t._v(": The number of milliseconds to delay.")]),s("li",[s("code",[t._v("[options={}]")]),s("em",[t._v("(Object)")]),t._v(": The options object.")]),s("li",[s("code",[t._v("[options.leading=false]")]),s("em",[t._v("(boolean)")]),t._v(": Specify invoking on the leading edge of the timeout.")]),s("li",[s("code",[t._v("[options.maxWait]")]),s("em",[t._v("(number)")]),t._v(": The maximum time "),s("code",[t._v("func")]),t._v(" is allowed to be delayed before it's invoked.")]),s("li",[s("code",[t._v("[options.trailing=true]")]),s("em",[t._v("(boolean)")]),t._v(": Specify invoking on the trailing edge of the timeout.")])])},function(){var t=this.$createElement,n=this._self._c||t;return n("h4",{attrs:{id:"returns"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#returns","aria-hidden":"true"}},[this._v("#")]),this._v(" Returns")])},function(){var t=this.$createElement,n=this._self._c||t;return n("ul",[n("li",[n("em",[this._v("(Function)")]),this._v(": Returns the new debounced function.")])])},function(){var t=this.$createElement,n=this._self._c||t;return n("h4",{attrs:{id:"example"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#example","aria-hidden":"true"}},[this._v("#")]),this._v(" Example")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// Avoid costly calculations while the window size is in flux.")]),t._v("\n"),s("span",{attrs:{class:"token function"}},[t._v("jQuery")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("on")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'resize'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("debounce")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("calculateLayout"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("150")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),s("span",{attrs:{class:"token comment"}},[t._v("// Invoke `sendMail` when clicked, debouncing subsequent calls.")]),t._v("\n"),s("span",{attrs:{class:"token function"}},[t._v("jQuery")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("element"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("on")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'click'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("debounce")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sendMail"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("300")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token string"}},[t._v("'leading'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("true")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{attrs:{class:"token string"}},[t._v("'trailing'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),s("span",{attrs:{class:"token comment"}},[t._v("// Ensure `batchLog` is invoked once after 1 second of debounced calls.")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" debounced "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" _"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("debounce")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("batchLog"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("250")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'maxWait'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("1000")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" source "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("EventSource")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/stream'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token function"}},[t._v("jQuery")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("source"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("on")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'message'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" debounced"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),s("span",{attrs:{class:"token comment"}},[t._v("// Cancel the trailing debounced invocation.")]),t._v("\n"),s("span",{attrs:{class:"token function"}},[t._v("jQuery")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("on")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'popstate'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" debounced"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cancel"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("_"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("throttle")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("func"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("wait"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("options"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,n=this._self._c||t;return n("h4",{attrs:{id:"arguments-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#arguments-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Arguments")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ol",[s("li",[s("code",[t._v("func")]),s("em",[t._v("(Function)")]),t._v(": The function to throttle.")]),s("li",[s("code",[t._v("[wait=0]")]),s("em",[t._v("(number)")]),t._v(": The number of milliseconds to throttle invocations to.")]),s("li",[s("code",[t._v("[options={}]")]),s("em",[t._v("(Object)")]),t._v(": The options object.")]),s("li",[s("code",[t._v("[options.leading=true]")]),s("em",[t._v("(boolean)")]),t._v(": Specify invoking on the leading edge of the timeout.")]),s("li",[s("code",[t._v("[options.trailing=true]")]),s("em",[t._v("(boolean)")]),t._v(": Specify invoking on the trailing edge of the timeout.")])])},function(){var t=this.$createElement,n=this._self._c||t;return n("h4",{attrs:{id:"returns-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#returns-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Returns")])},function(){var t=this.$createElement,n=this._self._c||t;return n("p",[n("em",[this._v("(Function)")]),this._v(": Returns the new throttled function.")])},function(){var t=this.$createElement,n=this._self._c||t;return n("h4",{attrs:{id:"example-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#example-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Example")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// Avoid excessively updating the position while scrolling.")]),t._v("\n"),s("span",{attrs:{class:"token function"}},[t._v("jQuery")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("on")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'scroll'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("throttle")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("updatePosition"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("100")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),s("span",{attrs:{class:"token comment"}},[t._v("// Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" throttled "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" _"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("throttle")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("renewToken"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("300000")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'trailing'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token function"}},[t._v("jQuery")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("element"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("on")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'click'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" throttled"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),s("span",{attrs:{class:"token comment"}},[t._v("// Cancel the trailing throttled invocation.")]),t._v("\n"),s("span",{attrs:{class:"token function"}},[t._v("jQuery")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("on")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'popstate'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" throttled"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cancel"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,n=this._self._c||t;return n("h2",{attrs:{id:"二、怎么用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二、怎么用","aria-hidden":"true"}},[this._v("#")]),this._v(" 二、怎么用")])},function(){var t=this.$createElement,n=this._self._c||t;return n("h2",{attrs:{id:"三、怎么自己写"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三、怎么自己写","aria-hidden":"true"}},[this._v("#")]),this._v(" 三、怎么自己写")])}],!1,null,null,null);n.default=e.exports}}]);